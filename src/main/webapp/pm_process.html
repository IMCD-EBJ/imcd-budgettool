<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>IMCD Budget Tool</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
          integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
          crossorigin="anonymous">

    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="styles/style4.css">
    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
            integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
            crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
            integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
            crossorigin="anonymous"></script>

    <style>
        .form-control {
            font-size: 11px;
        }

        .textareaCustom {
                display: block;
                width: 100%;
                padding: 0.375rem 0.75rem;
                font-size: 11px;
                line-height: 1.5;
                color: #495057;
                background-color: #fff;
                background-clip: padding-box;
                border: 1px solid #ced4da;
                border-radius: 0.25rem;
                transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }

        small {
            font-size: 14px;
        }

        .editable {
            background-color : #28a745;
            color: black;
            font-weight: bold;
        }

        .errorValue {
            background-color : #c82333;
            color: black;
            font-weight: bold;
        }

        .editable:focus {
            background-color: #4bdc76;
            color: black;
            font-weight: bold;
        }

        .header-table{
            background: #515459;
            color: white;
            border: solid #515459;
            border-radius: 0.25em;
        }

        .emptyTh{
            border : none!important;
        }

        .headerHorizontal{
            background: white!important;
            border : none!important;
            font-family: sans-serif;
            min-width: 8.5em;
        }

        .table tbody+tbody{
            border: none!important;
        }


        .btn-link {
            font-weight: 400;
            color: white;
            background-color: transparent;
        }

        .actualStatusElement{
            border: solid #515459;
            border-radius: 0.25em;
            padding-left: 1.25em;
            margin-top:0.1em;
            font-size: 15px;
        }

        .scrollable{
            max-height: 7.8em;
            overflow-y: auto;
            overflow-x: hidden;
        }


        #tableitems tr{
            height: 35.5px;
        }

        caption{
            padding-top: 0.75rem;
            padding-bottom: 0.75rem;
            color: #6c757d;
            text-align: left;
            caption-side: top;
        }
    </style>
</head>

<body>

<div class="wrapper">
    <div id="section_sidebar"></div>
    <div id="content">
        <div id="section_header"></div>
        <div id="cardHeader" class="card card-body">
            <h4>PM PROCESS</h4>
        </div>
        <br>

        <!-- Page Content -->
        <div class="container-fluid">
            <form id="formCompanyPrincipal">
                <div class="row">
                    <div class="card card-body col-md-7">
                        <div class="row p-1">
                            <div class="col-md-2">
                                <small>Company</small>
                            </div>
                            <div class="offset-md-1 col-md-6">
                                <select id="select-company" name="COU_Id" class="form-control required"
                                        onchange="selectCompany_Change(event)">
                                </select>
                            </div>
                            <div class="col-md-2 d-flex justify-content-between">

                                <label for="checked">Checked</label>
                                <div>
                                    <input type="checkbox" class="form-control" id="checked"
                                           onchange="checked_Change(event)"/>
                                </div>
                            </div>
                        </div>
                        <div class="row p-1">
                            <div class="col-md-2">
                                <small>Principal</small>
                            </div>
                            <div class="offset-md-1 col-md-6">
                                <select id="select-principal" name="principal" class="form-control required"
                                        onchange="selectPrincipal_Change(event)">
                                    <option>Select a company to start</option>
                                </select>
                            </div>
                            <div class="col-md-3 d-flex justify-content-between">
                                <button class="btn btn-primary" type="button"
                                        onclick="previousSelectedOption('select-principal')">
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <small class="mt-2">0 of 0</small>
                                <button class="btn btn-primary" type="button"
                                        onclick="nextSelectedOption('select-principal')">
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row p-1">
                            <div class="col-md-3">
                                <small>Principal Reporting Line</small>
                            </div>
                            <div class="col-md-6">

                                <select id="select-principalRepLine" name="principalReportingLine"
                                        class="form-control required"
                                        onchange="selectPrincipalRepLine_Change(event)">
                                    <option>Select a principal to start</option>
                                </select>


                            </div>
                            <div class="col-md-3 d-flex justify-content-between">
                                <button class="btn btn-primary" type="button"
                                        onclick="previousSelectedOption('select-principalRepLine')">
                                    <i class="fas fa-arrow-left"></i>
                                </button>
                                <small class="mt-2">0 of 0</small>
                                <button class="btn btn-primary" type="button"
                                        onclick="nextSelectedOption('select-principalRepLine')">
                                    <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card card-body offset-md-1 col-md-4" id="actualStatus" style="display:none">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="header-table text-center">
                                    <small id="recordsReported">Actual Status</small>
                                    <button class="btn btn-link" type="button" data-toggle="collapse"
                                            data-target="#collapseOne" aria-expanded="false"
                                            aria-controls="collapseOne">
                                        <i class="fas fa-arrow-down"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-1">
                            <div class="col-md-12">
                                <div class="accordion" id="accordionExample">
                                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                                         data-parent="#accordionExample">
                                        <div class="card-body scrollable" id="actualStatusBody">

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </form>


            <div class="card card-body row mt-2" style="flex-direction: row;">
                <div class="col-md-6 text-center card card-body">
                    <h5 class="header-table" id="repLineText">Reporting Line: </h5>

                    <form id="reportLineForm" class="col-md-12 text-center">
                        <input type="hidden" id="ROY_UNIT_COST" name="ROY_UNIT_COST" />
                        <input type="hidden" id="ROY_UNIT_INV" name="ROY_UNIT_INV" />
                        <div class="table-responsive">
                            <table id="tableRepLineHistData" name="HistData"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th colspan="5">Historical Data</th>
                                </tr>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th name="QTY">QTY</th>
                                    <th name="GMPERC">GM%</th>
                                    <th name="INV">INV</th>
                                    <th name="GM">GM</th>
                                    <th name="VARPERC">VAR%QTY</th>
                                </tr>
                                </thead>

                            </table>
                        </div>


                        <div class="table-responsive">
                            <table id="tableRepLineRoy" name="Roy"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th colspan="5">ROY Proposal</th>
                                </tr>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th name="QTY" editable="true">QTY</th>
                                    <th name="GMPERC" editable="true">GM%</th>
                                    <th name="INV">INV</th>
                                    <th name="GM">GM</th>
                                    <th name="VARPERC">VAR%QTY</th>
                                </tr>
                                </thead>

                            </table>
                        </div>


                        <div class="table-responsive">
                            <table id="tableRepLineBDG" name="BDG"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th colspan="5">BDG Proposal</th>
                                </tr>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th name="QTY" editable="true">QTY</th>
                                    <th name="GMPERC" editable="true">GM%</th>
                                    <th name="INV">INV</th>
                                    <th name="GM">GM</th>
                                    <th name="VARPERC">VAR%QTY</th>
                                </tr>
                                </thead>

                            </table>
                        </div>
                    </form>

                </div>
                <div class="col-md-6 text-center card card-body">
                    <h5 class="header-table" id="principalText">Principal: </h5>
                    <form id="principalForm" class="col-md-12 text-center">

                        <div class="table-responsive">
                            <table id="tablePrincipalHistData" name="HistData"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th colspan="5">Historical Data</th>
                                </tr>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th name="QTY">QTY</th>
                                    <th name="GMPERC">GM%</th>
                                    <th name="INV">INV</th>
                                    <th name="GM">GM</th>
                                    <th name="VARPERC">VAR%QTY</th>
                                </tr>
                                </thead>

                            </table>
                        </div>


                        <div class="table-responsive">
                            <table id="tablePrincipalRoy" name="Roy"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th colspan="5">ROY Proposal</th>
                                </tr>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th name="QTY">QTY</th>
                                    <th name="GMPERC">GM%</th>
                                    <th name="INV">INV</th>
                                    <th name="GM">GM</th>
                                    <th name="VARPERC">VAR%QTY</th>
                                </tr>
                                </thead>

                            </table>
                        </div>


                        <div class="table-responsive">
                            <table id="tablePrincipalBDG" name="BDG"
                                   class="table table-striped table-bordered table-hover">
                                <thead>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th colspan="5">BDG Proposal</th>
                                </tr>
                                <tr>
                                    <th class="emptyTh"></th>
                                    <th name="QTY">QTY</th>
                                    <th name="GMPERC">GM%</th>
                                    <th name="INV">INV</th>
                                    <th name="GM">GM</th>
                                    <th name="VARPERC">VAR%QTY</th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </form>
                </div>

                <div class="col-md-12 text-right">
                    <button class="btn btn-success btn-lg" onclick="downloadExcelPm()" id="excel">Download Excel File</button>
                </div>

            </div>

            <div class="card card-body row mt-2" id="productsLost">
                <div class="row">
                    <div class="col-md-12" onclick="$('#productsLostCollapse').collapse('toggle')">
                        <div class="header-table d-flex justify-content-between">
                            <h5>Products Lost</h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                    data-target="#productsLostCollapse" aria-expanded="true"
                                    aria-controls="productsLostCollapse">
                                <i class="fas fa-arrow-down"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="collapse" id="productsLostCollapse">
                    <div class="row">
                        <div class="col-md-6 mt-2">
                            <div class="card card-body">
                                <div class="row">
                                    <div class="col-md-12"
                                         onclick="">
                                        <div class="header-table d-flex justify-content-between">
                                            <h5>Products Lost Report Line</h5>
                                        </div>
                                    </div>
                                </div>

                                <div id="productLostCollapse">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <label for="select-month">Month</label>
                                            <select id="select-month" class="form-control">
                                                <option selected="" value="">Select an option</option>
                                                <option value="JANUARY">January</option>
                                                <option value="FEBRUARY">February</option>
                                                <option value="MARCH">March</option>
                                                <option value="APRIL">April</option>
                                                <option value="MAY">May</option>
                                                <option value="JUNE">June</option>
                                                <option value="JULY">July</option>
                                                <option value="AUGUST">August</option>
                                                <option value="SEPTEMBER">September</option>
                                                <option value="OCTOBER">October</option>
                                                <option value="NOVEMBER">November</option>
                                                <option value="DECEMBER">December</option>
                                            </select>
                                        </div>
                                        <div class="col-md-5">
                                            <label for="comments-lostProduct">Comments</label>
                                            <textarea class="textareaCustom" id="comments-lostProduct"
                                                      rows="1"></textarea>
                                        </div>

                                        <div class="col-md-1 mt-4 text-center">
                                            <button class="btn mt-2 btn-primary" id="saveRepLineLostProducts"
                                                    onclick="saveProductsLost(this)">Load lost products
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-6 mt-2">
                            <div class="card card-body">
                                <div class="row">
                                    <div class="col-md-12"
                                         onclick="">
                                        <div class="header-table d-flex justify-content-between">
                                            <h5>Individual Products Lost</h5>

                                        </div>
                                    </div>
                                </div>

                                <div class="row" id="individualProductLostCollapse">
                                    <div class="col-md-12">
                                        <div class="card-body" id="productsLostBody">
                                            <div class="row p-1">
                                                <div class="col-md-5">
                                                    <div class="table-responsive">
                                                        <table id="tableitems" data-click-to-select="true"
                                                               data-unique-id="PRODUCT_NAME"
                                                               data-sort-name="PRODUCT_NAME"
                                                               data-ajax="ajaxRequestProductsList" data-search="false"
                                                               data-loading-font-size="10px" data-pagination="true"
                                                               class="table table-striped">
                                                            <caption>All products</caption>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="col-md-1 mt-5">
                                                    <button id="btn-selectItems" onclick="selectItems(event)"
                                                            class="btn btn-info">
                                                        >
                                                    </button>
                                                    <br><br><br>
                                                    <button id="btn-unselectItems" onclick="unselectItems(event)"
                                                            class="btn btn-info">
                                                        <
                                                    </button>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="table-responsive">
                                                        <div class="table-responsive">
                                                            <table class="table table-striped"
                                                                   data-loading-font-size="10px"
                                                                   id="tableitems-selected"
                                                                   data-sort-name="PRODUCT_NAME"
                                                                   data-ajax="ajaxRequestProductsListLost"
                                                                   data-unique-id="PRODUCT_NAME" data-pagination="true"
                                                                   data-click-to-select="false"
                                                                   class="table table-striped">
                                                                <caption>Lost products</caption>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <form id="commentsForm">
                <div class="card card-body row">
                    <div class="row">

                        <div class="col-md-12 text-center">
                            <button class="btn btn-primary btn-lg" id="saveButton">Save</button>
                        </div>
                    </div>
                </div>
            </form>
            <div class="card card-body row mt-1" id="divLogPMProcess">
                <div class="col-md-12 text-center">
                    <button class="btn btn-danger btn-lg" onclick="finalizePMProcess(event)">Finalize Budget PM
                        Process
                    </button>
                </div>
            </div>
        </div>

    </div>
</div>

<div id="section_footer"></div>

<!--   Core JS Files   -->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="./js/core/jquery.3.2.1.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js"
        integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA=="
        crossorigin="anonymous"></script>
<!--TABLA BOOTSTRAP-->
<link href="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.css" rel="stylesheet">
<script src="https://unpkg.com/bootstrap-table@1.18.2/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<!--jscript custom-->
<script src="js/core.js"></script>

<script src="js/pm_process.js"></script>
<script src="js/pm_process_products_lost.js"></script>

</body>

</html>